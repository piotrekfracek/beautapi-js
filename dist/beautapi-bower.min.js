!function e(t,n,r){function o(u,f){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[u]={exports:{}};t[u][0].call(d.exports,function(e){var n=t[u][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,f=e[Symbol.iterator]();!(r=(u=f.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&f["return"]&&f["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var f=e("./errors"),a=r(f),c=e("./util"),d=r(c),l=e("./default-config"),s=r(l),p=function(){function e(){o(this,e)}return u(e,null,[{key:"parse",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!Object.assign)throw a["default"].cantFindObjectAssign;var r=Object.assign({},s["default"],n);if(!d["default"].isObject(n))throw a["default"].configShouldBeObject;if(!d["default"].isObject(t))throw a["default"].modelShouldBeObject;if(!n.fetchReference&&!window.fetch)throw a["default"].cantFindFetch;if(r.fetchReference&&!d["default"].isFunction(r.fetchReference))throw a["default"].fetchReferenceShouldBeFunction;if(!d["default"].isRegex(r.endpointRegex))throw a["default"].invalidRegex;if(!d["default"].isString(r.endpointPrefix))throw a["default"].prefixShouldBeString;if(!d["default"].isObject(r.fetchConfig))throw a["default"].fetchConfigShouldBeObject;if(!d["default"].isArray(r.thenChain))throw a["default"].thenChainShouldBeArray;return e.__parseModel(t,{},r)}},{key:"__parseModel",value:function(t,n,r){if(!d["default"].isObject(t))throw a["default"].traversingApiObject;for(var o in t)if(d["default"].isObject(t[o]))e.__parseModel(t[o],n[o]={},r);else{var u=e.__getEndpointWithFetchConfig(t[o]),f=i(u,2),c=f[0],l=f[1],s=e.__getRequestTypeByMethodName(o),p=e.__prefixEndpoint(r.endpointPrefix,c),h=Object.assign({method:s},r.fetchConfig,l),y=r.fetchReference||fetch;n[o]=e.__provideFunction({endpoint:p,fetchConfig:h,fetchReference:y,endpointRegex:r.endpointRegex,thenFunctionsChain:r.thenChain})}return n}},{key:"__provideFunction",value:function(t){var n=t.endpoint,r=t.fetchConfig,o=t.fetchReference,i=t.endpointRegex,u=t.thenFunctionsChain;return function(t,f){if(!d["default"].isObject(t)&&void 0!==t)throw a["default"].paramsShouldBeObject;if(!d["default"].isObject(f)&&void 0!==f)throw a["default"].fetchConfigShouldBeObject;var c=e.__parameterizeEndpoint(n,t,i),l=Object.assign(r,f),s=o(c,l);return e.__runChainOfThenFunctionsOnPromise(s,u)}}},{key:"__runChainOfThenFunctionsOnPromise",value:function(e,t){return t.reduce(function(e,t){return e.then(t)},e)}},{key:"__getEndpointWithFetchConfig",value:function(e){if(!(d["default"].isString(e)||d["default"].isArray(e)&&d["default"].isString(e[0])))throw a["default"].invalidEndpointNode;return d["default"].isArray(e)?e:[e,{}]}},{key:"__prefixEndpoint",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];return""+e+t}},{key:"__parameterizeEndpoint",value:function(e,t,n){return e.replace(n,function(e,n){return t?t[n]||"":""})}},{key:"__getRequestTypeByMethodName",value:function(e){var t=-1!=["DELETE","GET","HEAD","OPTIONS","POST","PUT","PATCH"].indexOf(e.toUpperCase());return t?e.toUpperCase():"GET"}}]),e}();n["default"]=p},{"./default-config":3,"./errors":4,"./util":10}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("./index"),i=r(o);window.Beautapi=i["default"]},{"./index":9}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={endpointRegex:/(?:\:)([a-zA-Z]([a-zA-Z0-9]|-|_)*)/g,endpointPrefix:"",fetchReference:void 0,fetchConfig:{},thenChain:[]}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={paramsShouldBeObject:new TypeError("Params should be an object or undefined."),endpointShouldBeObject:new TypeError("Endpoint is required and should be a string."),invalidRegex:new TypeError("Can't provide endpoint. Invalid regex."),invalidEndpointNode:new TypeError("Endpoint node (leaf) should be a string or an array with a string and an object"),traversingApiObject:new TypeError("Error when traversing api object. Expected object."),apiPrototypeShouldBeObject:new TypeError("Api prototype should be an object"),configShouldBeObject:new TypeError("Provided config should be an object"),prefixShouldBeString:new TypeError("Provided prefix should be a string"),fetchReferenceShouldBeFunction:new TypeError("Fetch reference should be a function"),fetchConfigShouldBeObject:new TypeError("Fetch config should be an object"),thenChainShouldBeArray:new TypeError("Then functions chain should be an array of functions"),cantFindFetch:new ReferenceError("Can't find fetch function. Please provide fetch polyfill"),cantFindObjectAssign:new ReferenceError("Can't find Object.assign function. Please provide Object.assign polyfill")}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return function(t){return new e(t)}}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return function(t){return t.map(function(t){return new e(t)})}}},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){return e.json()}},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},{}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./api"),i=r(o),u=e("./helpers/parseJSON"),f=r(u),a=e("./helpers/mapTo"),c=r(a),d=e("./helpers/decorateTo"),l=r(d),s=e("./helpers/throwErrors"),p=r(s);n["default"]={parse:i["default"].parse,helpers:{parseJSON:f["default"],mapTo:c["default"],decorateTo:l["default"],throwErrors:p["default"]}}},{"./api":1,"./helpers/decorateTo":5,"./helpers/mapTo":6,"./helpers/parseJSON":7,"./helpers/throwErrors":8}],10:[function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={isObject:function(e){return"object"===("undefined"==typeof e?"undefined":r(e))&&!(e instanceof Array)&&null!==e},isString:function(e){return"string"==typeof e},isArray:function(e){return e instanceof Array},isRegex:function(e){return e instanceof RegExp},isFunction:function(e){return"function"==typeof e}}},{}]},{},[2]);